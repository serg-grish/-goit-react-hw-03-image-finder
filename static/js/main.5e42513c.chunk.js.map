{"version":3,"sources":["Component/ImageGallery/ImageGallery.module.css","Component/Modal/Modal.module.css","Component/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Component/Button/Button.module.css","Component/Loader/Loader.module.css","Component/Searchbar/Searchbar.js","Component/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Component/ImageGallery/ImageGallery.js","Component/Modal/Modal.js","Component/Button/Button.js","Component/Loader/Loader.js","services/pixabay-api.js","App.js","index.js","Component/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","event","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","s","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","modalContent","id","onItemClick","console","log","webformatURL","src","alt","ImageGalleryItemImage","onClick","ImageGallery","handleOpenModal","e","target","images","map","image","Modal","handleKeyDown","code","onBackdrop","hendleBackdropClick","window","addEventListener","removeEventListener","content","Overlay","handleBackdropClick","Button","onPress","Spinner","color","height","width","fetchImages","page","fetchUrl","fetch","then","res","json","App","visibleImages","isLoading","openModal","toggleModal","toggleLoading","hadleChangeQuery","query","handleNextPage","handleScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","modalContentSet","itemId","element","find","largeImageURL","getData","hits","catch","error","message","finally","prevProps","isNotLastPage","length","btnEnable","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e42513c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1KRaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__gVfKb\",\"Modal\":\"Modal_Modal__3zrhh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1hABE\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__mqXQd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2F6Mm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__18kaH\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Searchbar.module.css\";\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { searchQuery } = this.state;\n\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            name=\"searchQuery\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    onItemClick: PropTypes.func.isRequired,\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n  };\n\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n    console.log(id);\n  };\n\n  render() {\n    const { id, webformatURL } = this.props;\n    return (\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n        onClick={() => this.modalContent(id)}\n      />\n    );\n  }\n}\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport React, { Component } from \"react\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    onItemClick: PropTypes.func.isRequired,\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      })\n    ).isRequired,\n  };\n\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { images, onItemClick } = this.props;\n    return (\n      <ul className={s.ImageGallery} onClick={this.handleOpenModal}>\n        {images &&\n          images.map((image) => (\n            <li key={image.id} className={s.ImageGalleryItem}>\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  static propTypes = {\n    onBackdrop: PropTypes.func.isRequired,\n    content: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onBackdrop();\n    }\n  };\n\n  hendleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onBackdrop();\n    }\n  };\n\n  render() {\n    const { content } = this.props;\n    console.log(content);\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={content} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onPress }) => {\n  return (\n    <button type=\"button\" onClick={onPress} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onPress: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport s from \"./Loader.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={s.Spinner}>\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={200} width={200} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","const API_KEY = \"23089235-f1458266e03eb6f85f7fa04a0\";\nconst BASE_URL = \"https://pixabay.com/api/?\";\n\nconst fetchImages = (searchQuery, page) => {\n  const fetchUrl = `${BASE_URL}q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(fetchUrl).then((res) => res.json());\n};\n\nexport default fetchImages;\n","import React, { Component } from \"react\";\n\nimport SearchBar from \"./Component/Searchbar/Searchbar\";\nimport ImageGallery from \"./Component/ImageGallery/ImageGallery\";\nimport Modal from \"./Component/Modal/Modal\";\nimport Button from \"./Component/Button/Button\";\nimport Spinner from \"./Component/Loader/Loader\";\n\nimport \"./App.css\";\nimport fetchImages from \"./services/pixabay-api\";\n\nclass App extends Component {\n  state = {\n    modalContent: \"\",\n    searchQuery: \"\",\n    page: 1,\n    visibleImages: [],\n    isLoading: false,\n    openModal: false,\n  };\n\n  componentDidUpdate(prevProps, { searchQuery, page }) {\n    if (searchQuery !== this.state.searchQuery || page !== this.state.page) {\n      this.getData();\n    }\n    this.handleScroll();\n  }\n\n  toggleModal = () => {\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\n  };\n\n  toggleLoading = () => {\n    this.setState(({ isLoading }) => ({ isLoading: !isLoading }));\n  };\n\n  hadleChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      visibleImages: [],\n    });\n  };\n\n  handleNextPage = () => {\n    this.setState(({ page }) => {\n      return {\n        page: page + 1,\n      };\n    });\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  modalContentSet = (itemId) => {\n    const { visibleImages } = this.state;\n    const element = visibleImages.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL });\n  };\n\n  getData = () => {\n    const { searchQuery, page } = this.state;\n    this.toggleLoading();\n    fetchImages(searchQuery, page)\n      .then(({ hits }) => {\n        this.setState(({ visibleImages }) => {\n          return { visibleImages: [...visibleImages, ...hits] };\n        });\n      })\n      .catch((error) => console.log(error.message))\n      .finally(this.toggleLoading);\n  };\n\n  render() {\n    const { visibleImages, openModal, modalContent, isLoading, page } =\n      this.state;\n    const isNotLastPage = visibleImages.length / page === 12;\n    const btnEnable = visibleImages.length > 0 && !isLoading && isNotLastPage;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.hadleChangeQuery} />\n        {visibleImages.length === 0 ? (\n          <h2>Enter your request</h2>\n        ) : (\n          <>\n            <ImageGallery\n              images={visibleImages}\n              onClick={this.toggleModal}\n              onItemClick={this.modalContentSet}\n            />\n\n            {openModal && (\n              <Modal content={modalContent} onBackdrop={this.toggleModal} />\n            )}\n            {isLoading && <Spinner />}\n\n            {btnEnable && (\n              <Button name=\"Load more\" onPress={this.handleNextPage} />\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2rkkr\",\"SearchForm\":\"Searchbar_SearchForm__2q4Lq\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2FxNu\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1TCTX\",\"SearchFormInput\":\"Searchbar_SearchFormInput__29AF-\"};"],"sourceRoot":""}